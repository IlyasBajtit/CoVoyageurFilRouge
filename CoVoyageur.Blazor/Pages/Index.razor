@page "/"

<style>
    .btn-custom {
        background-color: #0AC5A8;
        border-color: #0AC5A8;
        color: white;
    }

        .btn-custom:hover {
            background-color: #07a896;
            border-color: #07a896;
        }

    .secondary-btn {
        background-color: #2C3C5B;
        border-color: #2C3C5B;
        color: white;
    }

        .secondary-btn:hover {
            background-color: #25334a;
            border-color: #25334a;
        }

    .search-bar {
        background-color: white;
        border-radius: 20px;
        border: 1px solid #ccc;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .input-group-text {
        background-color: white;
        border: none;
        border-radius: 0.2rem;
    }

    .form-control, .custom-select {
        border: none;
        border-radius: 0.2rem;
    }

        .form-control:focus, .custom-select:focus {
            box-shadow: none;
        }

    .highlight {
        background-color: #0AC5A8;
        color: white;
        padding: 0.5rem;
        border-radius: 4px;
    }

    .input-group .fa {
        width: 2.5rem;
        text-align: center;
    }

    .dropdown-menu {
        display: none;
        position: absolute;
        background-color: white;
        min-width: 100px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

        .dropdown-menu.show {
            display: block;
        }
</style>

<div class="search-bar px-3 py-2 d-flex align-items-center">
    <div class="input-group mr-2">
        <span class="input-group-text">
            <i class="fa fa-map-marker-alt"></i>
        </span>
        <input type="text" class="form-control" placeholder="Départ" aria-label="Départ">
    </div>
    <div class="input-group mr-2">
        <span class="input-group-text">
            <i class="fa fa-map-marker-alt"></i>
        </span>
        <input type="text" class="form-control" placeholder="Destination" aria-label="Destination">
    </div>
    <div class="input-group mr-2">
        <span class="input-group-text">
            <i class="fa fa-calendar-alt"></i>
        </span>
        <input type="text" class="form-control" placeholder="jj/mm/aaaa" aria-label="Date du voyage">
    </div>
    <div class="input-group mr-2">
        <span class="input-group-text">
            <i class="fa fa-user"></i>
        </span>
        <div class="dropdown">
            <button class="btn secondary-btn" @onclick="ToggleDropdownMenu">Nombre de personnes</button>
            <div class="dropdown-menu @dropdownClass">
                @for (int i = 1; i <= 8; i++)
                {
                    <button @onclick="(() => SetNbPersons(i))" class="dropdown-item">@i</button>
                }
            </div>
        </div>
    </div>
    <button class="btn btn-custom">Rechercher</button>
</div>

@code {
    bool isDropdownMenuVisible = false;
    int nbPersons = 1;

    string dropdownClass => isDropdownMenuVisible ? "show" : "";

    void ToggleDropdownMenu()
    {
        isDropdownMenuVisible = !isDropdownMenuVisible;
    }

    void SetNbPersons(int value)
    {
        nbPersons = value;
        ToggleDropdownMenu();
    }
}